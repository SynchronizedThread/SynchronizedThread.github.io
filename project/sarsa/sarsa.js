class PainterMatrix{constructor(id,row,col,size){this.fillArray=function(value){let cols=[];cols.length=col;cols.fill(value);return cols;}this.void=0;this.backColor="#AAAAAA";this.row=row;this.col=col;this.range=size;this.space=5;this.canvas=document.getElementById(id);this.context=this.canvas.getContext("2d");this.matrix=[];this.special=[];this.colorTable=[];for(let i=0;i<row;++i){this.matrix.push(this.fillarray(this.void));this.colortable.push(this.fillarray(this.backcolor))}this.repainter()}step(x,y,action,color){let code="NaN;this.drawBlock(x,y,this.backColor);x+=action.x;y+=action.y;if(x">=0&&x<this.row&&y>=0&&y<this.col){this.drawblock(x,y,color);code=this.matrix[x][y]}return[x,y,code]}getmatrix(){return this.matrix}repainter(){for(let="" i="0;i<this.row;++i){for(let" j="0;j<this.col;++j){this.drawBlock(i,j,this.colorTable[i][j])}}}drawBlock(x,y,color){this.context.fillStyle=color;this.context.fillRect(y*(this.range+this.space),x*(this.range+this.space),this.range,this.range)}getSpecial(num){let" array="[];for(let" elem="" of="" this.special){if(elem.num="=num){array.push(elem)}}return" array}mouseconfigure(num,color,callback,multi){function="" tailcal(){self.canvas.onmousedown="null;window.onkeydown=null;callback()}let" self="this;if(multi){window.onkeydown=function(e){if(e.code=="Enter"){tailCal()}}}this.canvas.onmousedown=function(e){if(e.buttons===1){let" y="parseInt(e.clientX/(self.range+self.space))-1;let" x="parseInt(e.clientY/(self.range+self.space))-1;if(x">=0&&x<self.row&&y>=0&&y</self.row&&y></this.col){this.drawblock(x,y,color);code=this.matrix[x][y]}return[x,y,code]}getmatrix(){return></this.row&&y></row;++i){this.matrix.push(this.fillarray(this.void));this.colortable.push(this.fillarray(this.backcolor))}this.repainter()}step(x,y,action,color){let>